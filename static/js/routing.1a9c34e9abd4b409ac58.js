webpackJsonp([12],{JvEh:function(s,t,a){"use strict";var n=function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",[a("back-nav",{attrs:{title:"Routing"}}),s._m(0)],1)},e=[function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"content"},[s._v("In this section of the tutorial we'll look at handling routing and using routes to \nreduce application load time...")]),a("div",{staticClass:"title is-4"},[s._v("Install VueRouter")]),a("div",{staticClass:"content"},[s._v(" VueRouter was installed from the VueCli PWA template, however, if you want to install \nit manually you can with:")]),a("pre",{staticClass:"block"},[a("code",{staticClass:"hljs bash"},[s._v("npm install vue-router --save-dev\n")])]),a("div",{staticClass:"title is-4"},[s._v("Setup Routing")]),a("div",{staticClass:"content"},[s._v("Let's create a file that will export a new Router instance and also setup a route guard\nfor authenticated routes:  ")]),a("strong",{staticClass:"app-italic"},[s._v("src/router/index.js")]),a("pre",{staticClass:"block"},[a("code",{staticClass:"hljs javascript"},[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Vue "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'vue'")]),s._v(";\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Router "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'vue-router'")]),s._v(";\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" routes "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'./routes'")]),s._v(";\n\nVue.use(Router)\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("/**\n* Guard the route from unauthorized users.\n*\n* @param  {Route}    to   The route we want to access.\n* @param  {Route}    from The route from which we are coming from.\n* @param  {Function} next Callback for passing a route to be called next.\n* @return {void}\n*/")]),s._v("\n"),a("span",{staticClass:"hljs-function"},[a("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" "),a("span",{staticClass:"hljs-title"},[s._v("guardRoute")]),s._v(" ("),a("span",{staticClass:"hljs-params"},[s._v("to, from, next")]),s._v(") ")]),s._v("{\n  "),a("span",{staticClass:"hljs-comment"},[s._v("// work-around to get to the Vuex store (as of Vue 2.0)")]),s._v("\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" auth = router.app.$options.store.state.auth\n\n  "),a("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" (!auth.isLoggedIn) {\n    next({path: "),a("span",{staticClass:"hljs-string"},[s._v("'/login'")]),s._v(", query: { redirect: to.fullPath }})\n  } "),a("span",{staticClass:"hljs-keyword"},[s._v("else")]),s._v(" {\n    next()\n  }\n}\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("/**\n* The Router instance containing all the routes for the application.\n*/")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" router = "),a("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Router({\n  base: "),a("span",{staticClass:"hljs-string"},[s._v("'/vue-example-project'")]),s._v(",\n  mode: "),a("span",{staticClass:"hljs-string"},[s._v("'hash'")]),s._v(",\n  routes: routes.map(route => ({\n    name: route.name,\n    path: route.path,\n    component: route.component,\n    beforeEnter: route.isPublic ? "),a("span",{staticClass:"hljs-literal"},[s._v("null")]),s._v(" : guardRoute\n  }))\n})\n\n"),a("span",{staticClass:"hljs-keyword"},[s._v("export")]),s._v(" "),a("span",{staticClass:"hljs-keyword"},[s._v("default")]),s._v(" router\n\n\n")])]),a("div",{staticClass:"content"},[s._v("Now the routes:")]),a("strong",{staticClass:"app-italic"},[s._v("src/router/routes.js")]),a("pre",{staticClass:"block"},[a("code",{staticClass:"hljs javascript"},[a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" docs "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'@/docs/routes'")]),s._v(";\n"),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" examples "),a("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),a("span",{staticClass:"hljs-string"},[s._v("'@/examples/routes'")]),s._v(";\n\n"),a("span",{staticClass:"hljs-comment"},[s._v("/**\n* Every route becomes a chunk, loaded only when used.\n* Reduces size of initial App load.\n*/")]),s._v("\n"),a("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" routes = [\n  {\n    name: "),a("span",{staticClass:"hljs-string"},[s._v("'login'")]),s._v(",\n    path: "),a("span",{staticClass:"hljs-string"},[s._v("'/login'")]),s._v(",\n    component: () => "),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v("(/* webpackChunkName: "),a("span",{staticClass:"hljs-string"},[s._v('"login"')]),s._v(" */ "),a("span",{staticClass:"hljs-string"},[s._v("'@/features/login/login-page.vue'")]),s._v("),\n    isPublic: true\n  },\n  {\n    name: "),a("span",{staticClass:"hljs-string"},[s._v("'examples-login'")]),s._v(",\n    path: "),a("span",{staticClass:"hljs-string"},[s._v("'/examples/login'")]),s._v(",\n    component: () => "),a("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v("(/* webpackChunkName: "),a("span",{staticClass:"hljs-string"},[s._v('"examples-login"')]),s._v(" */ "),a("span",{staticClass:"hljs-string"},[s._v("'@/examples/login/login-page.vue'")]),s._v("),\n    isPublic: true\n  }\n]\n\nexport default [...routes, ...docs, ...examples]\n\n")])]),a("div",{staticClass:"title is-4"},[s._v("Webpack 3 Chunk Naming")]),a("div",{staticClass:"content"},[s._v("With Webpack 3 we can give names to the chunks created from the routes:  ")]),a("strong",{staticClass:"app-italic"},[s._v("webpack.prod.conf.js")]),a("pre",{staticClass:"block"},[a("code",{staticClass:"hljs javascript"},[s._v("output: {\n  path: config.build.assetsRoot,\n  filename: utils.assetsPath("),a("span",{staticClass:"hljs-string"},[s._v("'js/[name].[chunkhash].js'")]),s._v("),\n  chunkFilename: utils.assetsPath("),a("span",{staticClass:"hljs-string"},[s._v("'js/[name].[chunkhash].js'")]),s._v(")\n},")])])])])}],l={render:n,staticRenderFns:e};t.a=l},c8fm:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("j3Xd"),e=a("JvEh"),l=a("VU/8"),i=l(n.a,e.a,null,null,null);t.default=i.exports},j3Xd:function(s,t,a){"use strict";var n=a("c/Tr"),e=a.n(n);t.a={name:"routing",mounted:function(){var s=this,t=e()(document.getElementsByClassName("title")),a=t.filter(function(t){return t.innerHTML===s.$route.query.title})[0];a?a.scrollIntoView():scroll(0,0)},data:function(){return{}},methods:{}}}});
//# sourceMappingURL=routing.1a9c34e9abd4b409ac58.js.map