webpackJsonp([11],{"8fSL":function(s,t,e){"use strict";var n=e("c/Tr"),a=e.n(n);t.a={name:"http-client",mounted:function(){var s=this,t=a()(document.getElementsByClassName("title")),e=t.filter(function(t){return t.innerHTML===s.$route.query.title})[0];e?e.scrollIntoView():scroll(0,0)},data:function(){return{}},methods:{}}},Hv4y:function(s,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e("8fSL"),a=e("PFjp"),l=e("VU/8"),i=l(n.a,a.a,null,null,null);t.default=i.exports},PFjp:function(s,t,e){"use strict";var n=function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",[e("back-nav",{attrs:{title:"Unit and End-to-End Testing"}}),e("section",{staticClass:"section"},[e("div",{staticClass:"container"},[e("div",{staticClass:"content"},[s._v("In this section of the tutorial we'll look at Unit and End-to-End testing...")]),e("div",{staticClass:"title is-4"},[s._v("Unit Testing")]),s._m(0),s._m(1),e("div",{staticClass:"content"},[s._v("Then update your karma config file to include the polyfill:")]),e("strong",{staticClass:"app-italic"},[s._v("test/unit/karma.conf.js")]),s._m(2),e("div",{staticClass:"content"},[s._v("A unit test is included from the Webpack template already. It's a simple example\nthat tests the content outputted from the Hello vue component:")]),e("strong",{staticClass:"app-italic"},[s._v("test/unit/specs/Hello.spec.js")]),s._m(3),e("div",{staticClass:"title is-4"},[s._v("End-to-End Testing with Nightwatch and Selenium server")]),e("div",{staticClass:"content"},[s._v("I find End-to-End testing and Integration testing even more beneficial.\nVue-cli has put together a nice setup that includes Nightwatch.js (which\nuses Selenium and a Chrome driver) for e2e testing right out of the box. \nLet's remove the existing test located at `test/e2e/specs/test.js` since\nit will no longer work with the changes we have made. Let's add a new test\nthat tests that our login form works and that we can reach the dashboard:")]),e("strong",{staticClass:"app-italic"},[s._v("test/e2e/specs/loginTest.js")]),s._m(4),e("b-message",{attrs:{type:"is-warning"}},[s._v("Note: You may wish to add another "),e("code",[s._v("assert")]),s._v(" that asserts the dashboard is unreachable when a user is logged out.")]),e("div",{staticClass:"title is-4"},[s._v("Running the Tests")]),e("div",{staticClass:"content"},[s._v("Now let's run both the unit test and the e2e test. Make sure you are in your project directory, then:")]),s._m(5),e("div",{staticClass:"content"},[s._v("You should see some output initially showing the results of each unit test ran:")]),s._m(6),s._m(7)],1)])],1)},a=[function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[s._v("Make sure you installed "),e("code",[s._v("babel-polyfill")]),s._v("or es6 promises won't work in PhantomJS. If you didn't, you can install it with:  ")])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs bash"},[s._v("npm install babel-polyfill --save-dev \n\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs javascript"},[e("span",{staticClass:"hljs-comment"},[s._v("//...")]),s._v("\n\nfiles: [\n  "),e("span",{staticClass:"hljs-string"},[s._v("'../../node_modules/babel-polyfill/dist/polyfill.js'")]),s._v(",\n  "),e("span",{staticClass:"hljs-string"},[s._v("'./index.js'")]),s._v("\n],\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs javascript"},[e("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Vue "),e("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),e("span",{staticClass:"hljs-string"},[s._v("'vue'")]),s._v(";\n"),e("span",{staticClass:"hljs-keyword"},[s._v("import")]),s._v(" Hello "),e("span",{staticClass:"hljs-keyword"},[s._v("from")]),s._v(" "),e("span",{staticClass:"hljs-string"},[s._v("'src/components/Hello'")]),s._v(";\n\ndescribe("),e("span",{staticClass:"hljs-string"},[s._v("'Hello.vue'")]),s._v(", () => {\n  it("),e("span",{staticClass:"hljs-string"},[s._v("'should render correct contents'")]),s._v(", () => {\n    "),e("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" vm = "),e("span",{staticClass:"hljs-keyword"},[s._v("new")]),s._v(" Vue({\n      el: "),e("span",{staticClass:"hljs-built_in"},[s._v("document")]),s._v(".createElement("),e("span",{staticClass:"hljs-string"},[s._v("'div'")]),s._v("),\n      render: (h) => h(Hello)\n    })\n    expect(vm.$el.querySelector("),e("span",{staticClass:"hljs-string"},[s._v("'.hello h1'")]),s._v(").textContent)\n      .to.equal("),e("span",{staticClass:"hljs-string"},[s._v("'Welcome to Your Vue.js App'")]),s._v(")\n  })\n})\n\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs javascript"},[e("span",{staticClass:"hljs-comment"},[s._v("// For authoring Nightwatch tests, see")]),s._v("\n"),e("span",{staticClass:"hljs-comment"},[s._v("// http://nightwatchjs.org/guide#usage")]),s._v("\n\n"),e("span",{staticClass:"hljs-comment"},[s._v("/**\n* Test that user can login and see dashboard.\n*/")]),s._v("\n"),e("span",{staticClass:"hljs-built_in"},[s._v("module")]),s._v(".exports = {\n  "),e("span",{staticClass:"hljs-string"},[s._v("'default e2e tests'")]),s._v(": "),e("span",{staticClass:"hljs-function"},[e("span",{staticClass:"hljs-keyword"},[s._v("function")]),s._v(" ("),e("span",{staticClass:"hljs-params"},[s._v("browser")]),s._v(") ")]),s._v("{\n    "),e("span",{staticClass:"hljs-comment"},[s._v("// automatically uses dev Server port from /config.index.js")]),s._v("\n    "),e("span",{staticClass:"hljs-comment"},[s._v("// default: http://localhost:8080")]),s._v("\n    "),e("span",{staticClass:"hljs-comment"},[s._v("// see nightwatch.conf.js")]),s._v("\n    "),e("span",{staticClass:"hljs-keyword"},[s._v("const")]),s._v(" devServer = browser.globals.devServerURL\n\n    browser\n      .url(devServer)\n      .waitForElementVisible("),e("span",{staticClass:"hljs-string"},[s._v("'#app'")]),s._v(", "),e("span",{staticClass:"hljs-number"},[s._v("5000")]),s._v(")\n\n      "),e("span",{staticClass:"hljs-comment"},[s._v("// Assert that user can see login.")]),s._v("\n      .assert.elementPresent("),e("span",{staticClass:"hljs-string"},[s._v("'.login'")]),s._v(")\n      .setValue("),e("span",{staticClass:"hljs-string"},[s._v("'.js-login__username'")]),s._v(", "),e("span",{staticClass:"hljs-string"},[s._v("'demouser'")]),s._v(")\n      .setValue("),e("span",{staticClass:"hljs-string"},[s._v("'.js-login__password'")]),s._v(", "),e("span",{staticClass:"hljs-string"},[s._v("'testpass'")]),s._v(")\n      .click("),e("span",{staticClass:"hljs-string"},[s._v("'.js-login__submit'")]),s._v(")\n      .pause("),e("span",{staticClass:"hljs-number"},[s._v("1000")]),s._v(")\n\n      "),e("span",{staticClass:"hljs-comment"},[s._v("// Assert that user can see dashboard.")]),s._v("\n      .assert.containsText("),e("span",{staticClass:"hljs-string"},[s._v("'.ev-dashboard__heading h1'")]),s._v(", "),e("span",{staticClass:"hljs-string"},[s._v("'This is the dashboard'")]),s._v(")\n      .pause("),e("span",{staticClass:"hljs-number"},[s._v("2000")]),s._v(")\n      .end()\n  }\n}\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs bash"},[s._v("npm run "),e("span",{staticClass:"hljs-built_in"},[s._v("test")]),s._v("\n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("pre",{staticClass:"block"},[e("code",{staticClass:"hljs bash"},[s._v("Hello.vue  \n  ✓ should render correct contents  \n  ...  \n  PhantomJS "),e("span",{staticClass:"hljs-number"},[s._v("2.1")]),s._v("."),e("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" (Linux "),e("span",{staticClass:"hljs-number"},[s._v("0.0")]),s._v("."),e("span",{staticClass:"hljs-number"},[s._v("0")]),s._v("): Executed "),e("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" of "),e("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" SUCCESS ("),e("span",{staticClass:"hljs-number"},[s._v("0.018")]),s._v(" secs / "),e("span",{staticClass:"hljs-number"},[s._v("0.004")]),s._v(" secs)\nTOTAL: "),e("span",{staticClass:"hljs-number"},[s._v("1")]),s._v(" SUCCESS     \n    \nThen the Selenium server will fire up Chrome browser and run the e2e tests to see "),e("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" those pass:\n\n✔ Element <"),e("span",{staticClass:"hljs-comment"},[s._v("#app> was visible after 65 milliseconds.  ")]),s._v("\n✔ Testing "),e("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" element <.ev-login> is present.  \n✔ Testing "),e("span",{staticClass:"hljs-keyword"},[s._v("if")]),s._v(" element <.ev-dashboard__heading> contains text: "),e("span",{staticClass:"hljs-string"},[s._v('"This is the dashboard"')]),s._v(".  \n...  \nOK. "),e("span",{staticClass:"hljs-number"},[s._v("3")]),s._v(" assertions passed. ("),e("span",{staticClass:"hljs-number"},[s._v("18.522")]),s._v("s)  \n")])])},function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"content"},[s._v("You can of course run unit tests and e2e tests seperately with: "),e("code",[s._v("npm run unit")]),s._v("and "),e("code",[s._v("npm run e2e")]),s._v(" .")])}],l={render:n,staticRenderFns:a};t.a=l}});
//# sourceMappingURL=testing.3aa8768b5aced20b6969.js.map